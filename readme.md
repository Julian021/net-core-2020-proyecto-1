# ‚ñ∂ Proyecto 1 - üöó Concesionario üèç ‚óÄ

_En este primer proyecto vamos a trabajar creando una aplicaci√≥n de consola que permita gestionar un concesionario de vehiculos._

_El **objetivo** de este proyecto es aplicar los conocimientos de **programaci√≥n orientada a objetos** y poder subir nuestro proyecto a GitHub._

## Empezando üÜó

_Como requisitos m√≠nimos para poder trabajar vamos a necesitar:_

* [Visual Studio Community](https://visualstudio.microsoft.com/es/vs/community/) - Nuestra IDE y suite de programaci√≥n.
* [VS Code](http://www.dropwizard.io/1.0.2/docs/) - Perfecto editor en reemplazo de Visual Studio.
* [.NET Core 3.1](https://dotnet.microsoft.com/download/dotnet-core/3.1) - Necesario para compilar nuestra aplicaci√≥n.
* [git for windows](https://gitforwindows.org/) - Necesario para conectarse a Github.

## Crear soluci√≥n üìã

1. Necesitaremos crear una **Soluci√≥n** para nuestra aplicaci√≥n, la estructura de la misma debe contener al menos un **proyecto de consola**, ya que utilizaremos a la consola como interfaz de usuario.

_*: Recorda seleccionar Console App (.NET Core) y C# como lenguaje._

2. Un ejemplo de estructura para que nuestra soluci√≥n tenga una identificaci√≥n clara puede ser:

- **Soluci√≥n**: Concesionario.
- **Proyecto**: Consola (Proyecto de Console App .NET Core C#).
- **Proyecto**: ProgramaConcesionario (Biblioteca de Clases de .NET Standard).

![Solution](img/solution.png)

## Escribiendo las clases ‚úè

1. **Consola** - _Program.cs_: Constar√° de un procedimiento est√°tico Main() que ser√° nuestro punto de partida a la hora de ejecutar la aplicaci√≥n.


```
static void Main(string[] args)
{
    // Inicia nuestra aplicaci√≥n 
    Console.WriteLine("Aplicaci√≥n Concesionaria");

    // Finaliza nuestra aplicaci√≥n
}
```

_Adem√°s de este m√©todo principal, podemos escribir m√©todos (funciones o procedimientos) privados que nos resuelvan y encapsulen los distintos algoritmos._

```
private static void ImprimirAutos(List<Auto> autos)
{
    // Este procedimiento recorre una lista de autos, imprimiendolos por consola.

    foreach (var auto in autos)
    {
        Console.WriteLine(auto.Modelo);
    }
}
```

2. **ProgramaConcesionario** - _Auto.cs_: Constar√° de los atributos propios de un Auto, necesarios para que el usuario final interact√∫e con la aplicaci√≥n.

```
public class Auto
{
    public int Modelo { get; private set; }
    public string Nombre { get; private set; }
    public string Marca { get; private set; }
    public int Precio { get; set; }
    public int Ganancia { get; set; }
}
```

## Dando **interacci√≥n** a la **Interfaz** ü§µüèª

A la hora de escribir nuestra interacci√≥n en la interfaz, podemos tener en cuenta los siguientes tips:

- Si esperamos que el usuario ingrese una acci√≥n (como por ejemplo el n√∫mero de comando que desea ejecutar) deberemos validar si el valor ingresado es correcto, y sino, pedir que lo vuelva a ingresar.

```
static int EjecutarComando()
{
    int comando = 0;

    bool comandoValido = false; 

    do
    {
        string comandoIngresado = Console.ReadLine();

        comandoValido = int.TryParse(comandoIngresado, out comando);
        
        if (!comandoValido)
        {
            Console.WriteLine("El comando ingresado " + comandoIngresado + " es incorrecto.");

            Console.WriteLine("Ingrese uno nuevamente: ");
        }

    } while (!comandoValido);

    return comando;
}
```

- Podemos valernos de b√∫cles y condicionales para controlar el flujo de interacci√≥n del usuario. 

## **JSON**: Guardando y leyendo ‚úè

Para almacenar nuestra lista de autos vamos a utilizar un formato de texto conocido como JSON. Se trata de una forma de representar objetos en javascript y es muy utilizado hoy d√≠a en el intercambio de datos entre clientes y APIs (lo vamos a ver m√°s adelante).

_En la √∫ltima versi√≥n de .NET Core 3.1 integraron una biblioteca de clases al framework de trabajo que permite serializar y deserializar JSON sin utilizar una biblioteca externa._

### Guardar JSON

Un JSON es una cadena de texto a partir de un objeto, por ende, guardaremos nuestro List<Auto> dentro de la misma.

```
static void GuardarJSON()
{
    List<Auto> autos = new List<Auto>();

    string jsonString = JsonConvert.SerializeObject(autos);
}
```

### Leer JSON

Para leer JSON de un archivo de texto:

```
static List<Auto> GuardarJSON()
{
    var texto = File.ReadAllText("autos.json");

    var autosLeidos = JsonConvert.DeserializeObject<List<Auto>>(texto);

    return autosLeidos;
}
```